import{d as h,u as x,a as F,r as u,o as R,w as p,c as S,b as m,e as y,_ as f,t as T,n as w,f as _,g}from"./index-BJgec2jy.js";const k={class:"converter_inputs"},B=h({__name:"ConverterView",setup(E){const v=x(),i=F(),o=u(1),s=u(0),c=u(null),t=u("rub"),n=u("usd");R(async()=>{V(),i.setCurrency("")});function C(a,e){var d;const r=`${a.toLowerCase()}-${e.toLowerCase()}`,l=(d=c.value)==null?void 0:d.find($=>$.currency===r);return(l==null?void 0:l.value)??1}async function V(){try{const a=await fetch("https://status.neuralgeneration.com/api/currency");if(a.status===200){const e=await a.json();c.value||(c.value=[]);for(const r in e)e.hasOwnProperty(r)&&c.value.push({currency:r,value:parseFloat(e[r].toFixed(2))})}else throw new Error("API ERROR"+a.statusText)}catch(a){console.error("FETCHING ERROR->",a)}}return p([o,t,n],()=>{const a=C(t.value,n.value);s.value=parseFloat((o.value*a).toFixed(2))}),p(()=>i.currency,a=>{a&&(t.value=a.toLowerCase())}),(a,e)=>(g(),S("div",{class:w(["converter_wrapper",`converter_wrapper_${_(v).theme}`])},[m("div",k,[y(f,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),currency:t.value,"onUpdate:currency":e[1]||(e[1]=r=>t.value=r)},null,8,["modelValue","currency"]),y(f,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=r=>s.value=r),currency:n.value,"onUpdate:currency":e[3]||(e[3]=r=>n.value=r)},null,8,["modelValue","currency"])]),m("h3",{class:w(["converter_text",`converter_text_${_(v).theme}`])},T(`${o.value} ${t.value} = ${s.value} ${n.value}`),3)],2))}});export{B as default};
